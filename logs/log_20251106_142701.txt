[ユーザー]: g22923
[日時]: 2025-11-06 14:27:01

=== 入力情報 ===
[プログラムファイル]: LCS_LENGTH.java
[テストファイル]: LCS_LENGTH_TEST.java
PEM:


[テスト有無]: あり
[エラー数指定]: 指定なし
[解説レベル]: 初級
=== プロンプト ===
次のプログラムについて、テストケースが成功するようにエラーの修正方法を専門用語を使わずに説明してください。テストケースの結果も全て表示してください。

=== 解析結果 ===
ポイント（むずかしい言葉は使いません）
- この問題は「2つの文字列の中で、同じ並びが切れ目なく続いている最長の長さ」を求めるものです。
- いまのコードは、同じ文字が見つかったときに「左上」ではなく「真上」を見てしまっています。
- さらに、文字が違ったときに「0に戻す」処理がありません。
- そのため、正しい長さが出ません。

直し方（やることは3つ）
1) 小さな表を作り、縦に1、横に1だけ広げます（端は0にしておくため）。
2) 表を左上から順に埋めます。
   - 2つの文字が同じなら「左上の数+1」を入れる。
   - 違うなら「0」を入れる（途切れたら0に戻す）。
3) 表の中で一番大きい数が答えです（更新しながら覚えておくと早い）。

修正版コード
package java_programs;

public class LCS_LENGTH {
    public static Integer lcs_length(String s, String t) {
        if (s == null || t == null) return 0;
        int n = s.length();
        int m = t.length();
        if (n == 0 || m == 0) return 0;

        int[][] dp = new int[n + 1][m + 1];
        int best = 0;

        for (int i = 1; i <= n; i++) {
            char cs = s.charAt(i - 1);
            for (int j = 1; j <= m; j++) {
                if (cs == t.charAt(j - 1)) {
                    dp[i][j] = dp[i - 1][j - 1] + 1; // 左上+1
                    if (dp[i][j] > best) best = dp[i][j]; // 最大を更新
                } else {
                    dp[i][j] = 0; // 途切れたら0
                }
            }
        }
        return best;
    }
}

テスト結果（期待値=実測値）
- test_0: "witch" vs "sandwich" → 2 = 2（成功）
- test_1: "meow" vs "homeowner" → 4 = 4（成功）
- test_2: "fun" vs "" → 0 = 0（成功）
- test_3: "fun" vs "function" → 3 = 3（成功）
- test_4: "cyborg" vs "cyber" → 3 = 3（成功）
- test_5: "physics" vs "physics" → 7 = 7（成功）
- test_6: "space age" vs "pace a" → 6 = 6（成功）
- test_7: "flippy" vs "floppy" → 3 = 3（成功）
- test_8: "acbdegcedbg" vs "begcfeubk" → 3 = 3（成功）

すべてのテストが成功します。
