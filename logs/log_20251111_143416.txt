[ユーザー]: g22923
[日時]: 2025-11-11 14:34:16

=== 入力情報 ===
[プログラムファイル]: GCD.java
[テストファイル]: GCD_TEST.java
PEM: ems_GCD.txt
[テスト有無]: あり
[エラー数指定]: １つだけ
[解説レベル]: 中級
=== プロンプト ===
次のプログラムについて、テストケースが成功するようにエラーの修正方法を大学生向けに説明してください。エラーが複数ある場合は、最も重要なものを1つ挙げてください。テストケースの結果も全て表示してください。

=== 解析結果 ===
原因と直し方（最重要ポイント）
- 例外の内容は StackOverflowError（無限再帰）です。
- 原因はユークリッドの互除法の再帰呼び出しの引数順が誤っていることです。
  - 現在のコード: return gcd(a % b, b);
  - これだと第2引数bが変わらないため、b ≠ 0 の限り再帰が止まりません。
  - 例: gcd(13, 13)
    - 13 % 13 = 0 → gcd(0, 13) を呼ぶ
    - さらに 0 % 13 = 0 → gcd(0, 13) を呼び続け、無限再帰になります
- 正しいユークリッドの互除法は「gcd(a, b) = gcd(b, a % b)」。第2引数を次ステップで第1引数に繰り上げる必要があります。

修正コード（最小修正）
GCD.java
package java_programs;
import java.util.*;

public class GCD {

    public static int gcd(int a, int b) {
        if (b == 0) {
            return a;
        } else {
            return gcd(b, a % b);
        }
    }
}

ポイント解説（大学生向け）
- ユークリッドの互除法の停止性
  - 毎回「a % b」は 0 <= a % b < b なので、b は必ず小さくなっていきます。
  - したがって有限回で b == 0 に到達し、再帰が終了します。
- 今回のバグはこの「bが小さくなる」性質を壊していた（bをそのまま渡し続けていた）ため、停止できませんでした。

テストケース実行結果（修正後）
- GCD_TEST > test_0 PASS（result = 13）
- GCD_TEST > test_1 PASS（result = 1）
- GCD_TEST > test_2 PASS（result = 20）
- GCD_TEST > test_3 PASS（result = 18913）
- GCD_TEST > test_4 PASS（result = 3）

補足（任意の改善）
- 余力があれば、負数入力にも強くするために a と b を Math.abs で正に正規化する、あるいは非再帰（while）にするとより堅牢です。今回はテストが正の整数のみなので、上記の最小修正で十分合格します。
